## Frontend
- マッチメイキング
  - トランザクションかキューイングを実装し、多重マッチングを防ぐ
## Backend
- マッチメイク時などにBackendに送信する情報を整理する
- 待機、マッチメイク、ルーム作成、参加、対戦開始、対戦経過、対戦終了、ルーム退室、ルーム削除まで、どこまでをどのようにBackendに連携するのか整理する



- TODO
  - SNSログイン追加
  - ゲストではじめるを一度目に押下した際のみ403となる問題の解決
  - terraform
    - ecs_task_definitionのsecrets定義を効率的なものに変更したい
      - 予めキーだけ定義or取得しておけばfor文でまわせる
    - terraformのディレクトリ構成を検討
  - マッチメイクの実装
    - 3端末での同時実行検証
  - 対戦ルームの簡易widgetを実装
  - ゲームの仕様を検討する
    - 数百枚存在するカードの中からn枚のデッキを構成する
    - デッキはn個作成することができ、デッキ管理ページも要作成
    - 対戦時にはデッキを事前に選択する
    - 初期手札はデッキからランダムに５枚セット
    - 毎ターン１枚ずつ増える
    - 遊戯王カードのようにカードをフィールドにセットするようにゲーム性ではなく、ゴッドフィールドのように１ターンに１枚ずつ使用するイメージ
    - 使用したカードは使用済みフィールドに配置
    - 使用済みカードを復活させるカードも作成
    - 相手の手札をランダムに一枚と自分の指定した手札一枚を交換できるカードを作成
  - 対戦ルームの仕様を検討する
  - ゲストで一度ログインした後はtokenをshared_referencessに保存しておく。
    - tokenが保存されている場合はそのtokenでログインを試みて失敗した場合はinitial_pageに飛ばす
    - backendでtokenの期間を最大限に伸ばす
  - カードの簡易UIを作成する
  - １ターンの待ち時間ロジックを組む
    - 時間切れ時の挙動を検討する
      - 何も行わずにターンエンドし、３回繰り返した場合は降参となる？
  - 相手が接続切れになった場合に勝利確定するロジックを組む
  - 全テキストの多言語化
  - room_pageの各widgetを別クラスに切り分ける
  - 手札を選択して、フィールドに表示し、フィールドをタップして実行する流れを作成
  - ターンの移り変わりを実装
  - 最初のバトル開始のアニメーション
  - バトルルールを取得するAPI
    - 初期HPや初期MP
  - バトル開始を伝えるAPI
  - バトル結果を伝えるAPI


- room_page_state_notifierのinitializeメソッドでメンバー取得APIをリクエストし、stateを更新する


- ルーム回り全体的にリファクタリング
  - apiにトークンセットする部分を共通的に
- 全てのapiエンドポイントで200時のレスポンスをrequiredで返却するか検討する
  - 200以外のレスポンスをどこでハンドリングするか
  - 例えばログインAPIで200時のレスポンスをrequiredにした場合、成り立つのか